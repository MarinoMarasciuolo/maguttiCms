$((function(){var e=$("#filemanager");$(".filemanager-select").on("click",(function(a){a.preventDefault(),e.modal("show");var i=$(this).data("input"),n=$("input[name="+i+"]").val();0!=n&&(window.$eventBus.$emit("FILE_MANAGER_SELECT_ITEM",n),window.$eventBus.$emit("FILE_MANAGER_LOAD_LIST",n),$("#file-manager-list").click()),$("input[name=file-input]",e).val(i),$("input[name=file-value]",e).val(n)})),$("input[name=upload-input]",e).uploadifive({auto:!0,queueID:"queue-modal",uploadScript:urlAjaxHandlerCms+"filemanager/upload",onAddQueueItem:function(e){this.data("uploadifive").settings.formData={_token:$("[name=_token]").val()}},onUploadComplete:function(a,i){var n=jQuery.parseJSON(i);n.data,$("input[name=file-value]",e).val(n.id),$("#file-manager-list").trigger("click")}}),$("#file-manager-list").on("click",(function(a){var i=$(".filemanager-select").data("input"),n=parseInt($("input[name="+i+"]").val())?parseInt($("input[name="+i+"]").val()):"";"".concat(urlAjaxHandlerCms,"filemanager/list/").concat(n),window.$eventBus.$emit("FILE_MANAGER_LOAD_LIST",n);var t=$("input[name=file-value]").val();$(".modal-footer",e).removeClass("visually-hidden"),0!=t&&($("#file-manager-upload",e).removeClass("active"),$("#file-manager-list",e).addClass("active"),$("#tab-upload",e).removeClass("active show"),$("#tab-images",e).addClass("active show"),$("#media-id-"+t).addClass("active"),window.$eventBus.$emit("FILE_MANAGER_SELECT_ITEM",t))})),$(document).on("submit","#filemanager-edit-form",(function(e){e.preventDefault();var a=$(this);$.ajax({type:"POST",url:a.attr("action"),data:a.serialize(),dataType:"json",success:function(e){$.notify(e.message,"success"),$("#file-manager-list").trigger("click")},error:function(e){$.notify("Error.")}})})),$(".reset-image",e).on("click",(function(e){e.preventDefault(),window.$eventBus.$emit("FILE_MANAGER_RESET")})),$(".confirm-image",e).on("click",(function(a){a.preventDefault(),$("input[name="+$("input[name=file-input]",e).val()+"]").val($("input[name=file-value]",e).val()),e.modal("hide")})),$("#filemanager").on("hidden.bs.modal",(function(){$("#tab-upload",e).addClass("active show"),$("#tab-images",e).removeClass("active show"),$("#file-manager-upload",e).addClass("active"),$("#file-manager-list",e).removeClass("active"),$("#sidebar-content").html("")}))}));